# 激光标刻机

[TOC]

<div style="page-break-after: always;" ></div>

# 1. 概述

## 需求

一款用于激光标刻的软件，其支持的核心功能有：

- 图形编辑**（工期：一个月）** 

  - 支持文字绘制及矢量文件导入

  - 支持位图导入（BMP/JPG/PNG）及灰度处理（256级灰度雕刻）

  - 图形变换工具（位移、旋转、缩放、镜像）

- G代码生成（G00/G01/G02/G03/M03等）
  - 虚拟加工路径预览，避免实际标刻错误
  - 位图G代码生成
  - 矢量图G代码生成
  - 文字G代码生成

- 多平台支持

  - Windows：[下载]()

  - Linux：[下载]()

  - MAC：[下载]()

## 原型设计

![Maker](prototype/Maker.png)

# 2. 工作计划

| 目标          | 任务             | 问题                            | 备注                                                         |
| ------------- | ---------------- | ------------------------------- | ------------------------------------------------------------ |
| 调研          | 跨平台发布       | Windows                         |                                                              |
|               |                  | Linux                           |                                                              |
|               |                  |                                 |                                                              |
|               |                  |                                 |                                                              |
|               | 激光标刻机       | 基本G代码                       | 生成G00（快速定位），G01（直线插补），G02/G03（圆弧），M03/M05（激光开关）等指令 |
|               |                  | 通信接口                        | 通过串口/USB/以太网/Wi-Fi连接设备                            |
|               |                  | 实时参数调节                    | 调整功率，速度                                               |
|               |                  | 红光定位                        | 预览标刻位置，辅助校准                                       |
|               |                  | 自动化控制                      | 批量任务处理，自动定位（视觉标刻），外部触发信号             |
|               |                  |                                 |                                                              |
|               | G代码生成        | 位图转G代码                     | 将图像灰度值映射为激光功率/速度                              |
|               |                  | 矢量图转G代码                   | 生成基础指令和圆弧指令                                       |
|               |                  | 文字转G代码                     | 生成基础指令和圆弧指令                                       |
|               |                  |                                 |                                                              |
| 标刻软件0.0.1 | 文件【1 周】     | 打开                            | 读取一份结构化数据，里面包含了图元信息。                     |
|               |                  | 保存                            | 保存一份结构化数据，将编辑的图元信息保存起来。               |
|               |                  | 关闭                            | 清空当前编辑的图元信息。                                     |
|               |                  |                                 |                                                              |
|               | 视图-控制【1周】 | 平移                            |                                                              |
|               |                  | 缩放                            |                                                              |
|               |                  |                                 |                                                              |
|               | 编辑-图元【2周】 | 选择                            |                                                              |
|               |                  | 删除                            |                                                              |
|               |                  | 复制/粘贴                       |                                                              |
|               |                  | 撤销/恢复                       |                                                              |
|               |                  | 重命名                          |                                                              |
|               |                  | 插入-位图/文本/矢量             |                                                              |
|               |                  | 移动                            |                                                              |
|               |                  | 旋转                            |                                                              |
|               |                  | 缩放                            |                                                              |
|               |                  |                                 |                                                              |
| 标刻软件0.0.2 | 文件             | 新建                            | 可以创建多个文档                                             |
|               |                  | 切换                            | 在多个文档之间进行切换                                       |
|               |                  |                                 |                                                              |
|               | 编辑-图元        | 条形码/二维码                   |                                                              |
|               |                  | 矢量图                          | 矢量图绘制，编辑、填充                                       |
|               |                  | 编组/取消组                     | 对多个图元进行编组                                           |
|               |                  | 文本                            | 可以调整字体类型、字体、对齐方式、文字方向、样式、字间距、行间距，输入想要标刻的文本内容 |
|               |                  | 图像                            | 支持图片PS功能，优化图片样式                                 |
|               |                  |                                 |                                                              |
| 标刻软件0.0.3 | 连接管理         | 状态指示                        | 初始化时和未连接时亮黄灯、出激光时亮红灯、报警时红光闪烁、蓝牙、WIFI、USB连接成功亮绿灯 |
|               | 轴控制           | Z轴上下限位输入                 |                                                              |
|               |                  | XYZ点动按钮输入（上、下、自动） |                                                              |
|               | 状态控制         | 急停信号输入                    | 程序监听来自硬件急停信号                                     |
|               |                  | 激光器报警输入                  | 程序监听来自硬件报警信号                                     |
|               |                  | 安全门                          | 打开不出光，光闭才出光，可使能或关闭                         |
|               |                  |                                 |                                                              |
| 标刻软件0.0.4 | 标刻             | 位图/平面标刻                   | 将G代码发送到标刻机                                          |
|               |                  | 模拟预览                        | 虚拟加工路径预览，避免实际雕刻错误                           |
|               |                  | 对焦                            | Z轴矫正                                                      |
|               |                  |                                 |                                                              |
| 标刻软件0.0.5 | 相机标定         | 畸变矫正                        |                                                              |
|               |                  | 内参标定                        |                                                              |
|               |                  | 外参标定                        |                                                              |
|               |                  |                                 |                                                              |
| 标刻软件0.0.6 | 工艺包           |                                 |                                                              |
|               | 功率阵列         |                                 |                                                              |
|               | 曲面建模         |                                 |                                                              |
|               |                  |                                 |                                                              |